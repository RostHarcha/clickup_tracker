# clickup_tracker

Утилита для составления отчёта о проделанной работе в ClickUp.  
Группирует данные по проектам и по дням, выводит удобную табличную сводку с суммарным временем и расчётом оплаты.

---

## Предустановка

Перед использованием необходимо установить:

- Python версии 3.12 или выше:  
  [https://www.python.org/downloads/](https://www.python.org/downloads/)  
- Poetry — менеджер зависимостей и виртуальных окружений:  
  [https://python-poetry.org/docs/#installation](https://python-poetry.org/docs/#installation)  

---

## Установка

```bash
git clone https://github.com/RostHarcha/clickup_tracker.git
cd clickup_tracker
poetry install
```

---

## Настройка окружения

В корне проекта создайте файл `.env` со следующими параметрами:

```env
API_TOKEN=pk_81845908_P51ETCMMKADSAS8OMCPG5A8BD1DMQNWFE
TEAM_ID=9015673183
HOURLY_RATE=650
PERSONAL_FOLDER_ID=901216573254
```

- `API_TOKEN` — токен для доступа к ClickUp API  
- `TEAM_ID` — ID вашей команды в ClickUp  
- `HOURLY_RATE` — часовая ставка для расчёта выплаты (в рублях)  
- `PERSONAL_FOLDER_ID` — ID личной папки для учёта задач вне проектов  

---

## Использование

Запуск утилиты с опциями:

```bash
python src/main.py [-h] [--from_date FROM_DATE] [--to_date TO_DATE]
```

### Параметры

- `-h`, `--help` — показать справку
- `--from_date FROM_DATE`, `--from FROM_DATE`, `-f FROM_DATE` — дата начала отчёта (формат: DD[.MM[.YY]])
- `--to_date TO_DATE`, `--to TO_DATE`, `-t TO_DATE` — дата окончания отчёта (формат: DD[.MM[.YY]])

---

## Пример вывода

```text
+------------------------------------------------------------------------+
|                          12.05.25 - 25.05.25                           |
+------------------------------------------------------------------------+
|   +------------------------+-----------+  +------------+-----------+   |
|   | Проект                 | Отработка |  | Дата       | Отработка |   |
|   +------------------------+-----------+  +------------+-----------+   |
|   | (вне проектов) - ретро | 01:10:10  |  | 2025-05-12 | 05:29:48  |   |
|   | Bet-bot                | 11:27:33  |  | 2025-05-13 | 00:31:10  |   |
|   | Snaq Fabriq            | 61:21:13  |  | 2025-05-14 | 05:36:48  |   |
|   | Марафоны               | 05:12:28  |  | 2025-05-15 | 06:24:25  |   |
|   | Психология и практики  | 28:04:42  |  | 2025-05-16 | 14:41:06  |   |
|   +------------------------+-----------+  | 2025-05-17 | 07:37:47  |   |
|                                           | 2025-05-18 | 07:52:09  |   |
|                                           | 2025-05-19 | 12:49:37  |   |
|                                           | 2025-05-20 | 08:49:37  |   |
|                                           | 2025-05-21 | 12:41:20  |   |
|                                           | 2025-05-22 | 11:51:44  |   |
|                                           | 2025-05-23 | 09:26:57  |   |
|                                           | 2025-05-24 | 03:23:35  |   |
|                                           | 2025-05-25 | 00:00:00  |   |
|                                           +------------+-----------+   |
| +----------------------+----------------------+----------------------+ |
| |    Ставка, руб/ч     |    Отработано, ч     |     Выплата, руб     | |
| +----------------------+----------------------+----------------------+ |
| |         650          |        107.27        |        69725         | |
| +----------------------+----------------------+----------------------+ |
+------------------------------------------------------------------------+
```

---

## Зависимости

- Python 3.12+
- [Poetry](https://python-poetry.org/) для управления зависимостями
- pydantic
- prettytable
- aiohttp
- pydantic-settings

---

## Контакты

Автор: Rostislaww
Email: rostiki.com@mail.ru
